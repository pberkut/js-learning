{"mappings":"qhBAuBA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAQC,SAASC,cAAc,YAC/BC,EAAYF,SAASC,cAAc,iBAmDzC,SAASE,EAAUC,EAAMC,GACvBD,EAAKE,YAAcD,CACrB,CAEA,SAASE,EAAcC,EAAOC,EAAKC,EAAMC,GACvC,MAAMC,EAASC,KAAKD,SAEpB,OAAO,IAAIE,SAAQ,CAACC,EAAKC,KACvBC,YAAW,KACLL,EAASJ,EACXO,EAAIN,GAEJO,EAAIN,EAAA,GAELC,EAAA,GAEP,CAhEAZ,EAAMmB,iBAAiB,UAEvB,SAAmBC,GACjBA,EAAIC,iBAEJ,MAAMC,EAAS,GACTC,EAAU,GAEVC,EAAiBrB,EAAUsB,SAASC,QAGxCjB,OAASkB,MAAOlB,GAAOmB,MACvBA,GACER,EAAIS,cAAcC,SAEtBF,EAAMG,UAAW,EAEjB,IAAK,IAAIC,EAAI,EAAGA,EAAIR,EAAgBQ,GAAK,EAAG,CAC1C,MAAM3B,EAAOF,EAAUsB,SAASO,GAEhC3B,EAAKE,YAAc,GAEnBC,EAAcyB,OAAOxB,GAAQ,IAAK,IAxBxB,IAwBqCuB,GAC5CE,MAAKC,IACJ/B,EAAUC,EAAM8B,GAChBb,EAAOc,KAAKD,EAAA,IAEbE,OAAMF,IACL/B,EAAUC,EAAM8B,GAChBZ,EAAQa,KAAKD,EAAA,IAEdG,SAAQ,KACHN,IAAMR,EAAiB,IACzBI,EAAMG,UAAW,GAEnB,MAAMQ,EAAejB,EAAOI,SAAWF,EACjCgB,EAAajB,EAAQG,SAAWF,EAElCe,GACFE,EAAA3C,GAAS4C,OAAOC,QAAQ,oBAEtBH,GACFC,EAAA3C,GAAS4C,OAAOE,QAAQ,mBAGhC,CACF","sources":["src/js/9-module/9-07-games-slots.js"],"sourcesContent":["// fetch('https://pokeapi.co/api/v2/pokemon/ditto')\n//   .then(r => r.json())\n//   .then(pokemon => {\n//     console.log(pokemon);\n//   });\n\n// * Example\n// console.time('start');\n// console.log('%c Привет', 'color: green; font-size: 32px');\n// console.timeEnd('start');\n\n// *\n// Мікро процеси мають БІЛЬШИЙ пріорітет\n// 1. Promise\n// 2. Observer\n\n// Макро процеси мають МЕНЬШИЙ пріорітет\n// setTimeout\n// setInterval\n// setImmediate\n// requestAnimationFrame\n\n// ! Start code Game Slots\nimport Notiflix from 'notiflix';\n\nconst start = document.querySelector('.js-form');\nconst container = document.querySelector('.js-container');\nconst delay = 500;\n\nstart.addEventListener('submit', startGame);\n\nfunction startGame(evt) {\n  evt.preventDefault();\n\n  const arrWin = [];\n  const arrLose = [];\n\n  const childrenLength = container.children.length;\n\n  const {\n    level: { value: level },\n    start,\n  } = evt.currentTarget.elements;\n\n  start.disabled = true;\n\n  for (let i = 0; i < childrenLength; i += 1) {\n    const item = container.children[i];\n\n    item.textContent = '';\n\n    createPromise(Number(level), '✅', '❌', delay * i)\n      .then(resp => {\n        markField(item, resp);\n        arrWin.push(resp);\n      })\n      .catch(resp => {\n        markField(item, resp);\n        arrLose.push(resp);\n      })\n      .finally(() => {\n        if (i === childrenLength - 1) {\n          start.disabled = false;\n        }\n        const resultWinner = arrWin.length === childrenLength;\n        const resultLose = arrLose.length === childrenLength;\n\n        if (resultWinner) {\n          Notiflix.Notify.success('You are WINNER! ');\n        }\n        if (resultLose) {\n          Notiflix.Notify.failure('You are lose!');\n        }\n      });\n  }\n}\n\nfunction markField(item, smile) {\n  item.textContent = smile;\n}\n\nfunction createPromise(level, win, lose, delay) {\n  const random = Math.random();\n\n  return new Promise((res, rej) => {\n    setTimeout(() => {\n      if (random > level) {\n        res(win);\n      } else {\n        rej(lose);\n      }\n    }, delay);\n  });\n}\n"],"names":["$4vA6L","parcelRequire","$aa988918fc86fa8b$var$start","document","querySelector","$aa988918fc86fa8b$var$container","$aa988918fc86fa8b$var$markField","item","smile","textContent","$aa988918fc86fa8b$var$createPromise","level","win","lose","delay","random","Math","Promise","res","rej","setTimeout","addEventListener","evt","preventDefault","arrWin","arrLose","childrenLength","children","length","value","start","currentTarget","elements","disabled","i","Number","then","resp","push","catch","finally","resultWinner","resultLose","$parcel$interopDefault","Notify","success","failure"],"version":3,"file":"9-07-games-slots.93e2d91e.js.map"}